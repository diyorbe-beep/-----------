# Create React App dan Vite ga o'tish

Bu fayl loyihani CRA dan Vite ga o'tkazish jarayonini tushuntiradi.

## O'zgarishlar

### 1. package.json

**Eski (CRA):**
```json
{
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build"
  },
  "dependencies": {
    "react-scripts": "5.0.1"
  }
}
```

**Yangi (Vite):**
```json
{
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.1",
    "vite": "^5.0.8"
  }
}
```

### 2. Fayl strukturasi

**Eski:**
```
├── public/
│   └── index.html
├── src/
│   ├── index.js       ← Entry point
│   └── App.js
```

**Yangi:**
```
├── index.html         ← Root'ga ko'chirildi
├── src/
│   ├── main.jsx       ← Entry point (renamed)
│   └── App.js
```

### 3. index.html

**Eski:**
```html
<body>
  <div id="root"></div>
  <!-- Automatically injected by CRA -->
</body>
```

**Yangi:**
```html
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>  ← Qo'lda qo'shish kerak
</body>
```

### 4. Entry point

**Eski (src/index.js):**
```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
```

**Yangi (src/main.jsx):**
```javascript
import React from 'react'
import ReactDOM from 'react-dom/client'
import './index.css'
import App from './App'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

### 5. vite.config.js (Yangi fayl)

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
    open: true
  },
  build: {
    outDir: 'dist'
  }
})
```

### 6. Import stillar

CRA va Vite import'larni bir xil qabul qiladi, o'zgarish shart emas:
```javascript
import './App.css'  // ✅ Ishlaydi
```

### 7. Environment variables

**Eski (CRA):**
```env
REACT_APP_API_URL=http://localhost:4000
```

```javascript
const apiUrl = process.env.REACT_APP_API_URL
```

**Yangi (Vite):**
```env
VITE_API_URL=http://localhost:4000
```

```javascript
const apiUrl = import.meta.env.VITE_API_URL
```

### 8. .gitignore

Qo'shimcha:
```
/dist          # Vite build output
.vite/         # Vite cache
```

## Migration qadamlari

### 1. Paketlarni o'zgartirish

```bash
# CRA ni o'chirish
npm uninstall react-scripts

# Vite o'rnatish
npm install --save-dev vite @vitejs/plugin-react
```

### 2. Fayl o'zgarishlar

```bash
# index.html ni ko'chirish
mv public/index.html index.html

# Entry point ni qayta nomlash
mv src/index.js src/main.jsx
```

### 3. Fayllarni yangilash

- `index.html` - Script tegini qo'shish
- `package.json` - Scripts va dependencies
- `vite.config.js` - Yangi yaratish

### 4. Test qilish

```bash
npm run dev
```

## Natijalar

✅ **Dev server** - 10-20s → 0.5s  
✅ **Hot reload** - 2-5s → Instant  
✅ **Build vaqt** - 30-60s → 10-15s  
✅ **Bundle size** - Kichikroq  

## Xulosa

Vite migratsiyasi:
- ✅ Juda oson (10-15 daqiqa)
- ✅ Breaking changes kam
- ✅ Ancha tez development experience
- ✅ Yaxshi production build

**Tavsiya:** Barcha yangi React loyihalar uchun Vite'dan foydalaning! 🚀

